function xhrQuery(){return this.xhr_engine=null,this.xhr_errors=[],this.xhr_executed=0,this.xhr_callbacks=[],this.xhr_form_data=new FormData,this.xhr_method="post",this.xhr_progress=null,this.xhr_raw_data=[],this.xhr_response=[],this.xhr_target=null,this.xhr_send_file=!1,this.xhr_warn_textarea=!1,this.xhr_headers={},this.xhr_with_cred=!1,this.xhr_username="",this.xhr_password="",this.callbacks=function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?this.xhr_callbacks.push(arguments[e]):this.xhr_errors.push({error_level:2,error_message:"xhrQuery::callback() :: The input callback '"+arguments[e]+"' is not a function."});return this},this.username=function(e){this.xhr_username=e},this.password=function(e){this.xhr_password=e},this.forms=function(e){for(var r in void 0===e&&this.xhr_errors.push({error_level:2,error_message:"xhrQuery::forms() :: At least one HTMLFormElement is required."}),arguments)if(arguments[r]instanceof HTMLFormElement)for(var s=0;s<arguments[r].elements.length;s++){var t=arguments[r].elements[s];this.inputs(t)}else this.xhr_errors.push({error_level:2,error_message:"xhrQuery::forms() :: Argument nÂ°"+r+" supplied is invalid : ["+typeof arguments[r]+"] "+arguments[r]+"."});return this},this.get=function(e){return void 0===e&&(e=this.xhr_executed),e=parseInt(e),isNaN(e)&&(e=this.xhr_executed),this.xhr_response[e]},this.inputs=function(){for(var e=0;e<arguments.length;e++){var r=null;if(null===(r="string"==typeof arguments[e]?document.getElementById(arguments[e]):arguments[e]))this.xhr_errors.push({error_level:2,error_message:"xhrQuery::inputs() :: The input number "+e+" doesn't not exist -> input ignored."});else{var s=r.getAttribute("name");if(null!==s)switch(r.tagName.toUpperCase()){case"INPUT":var t=r.getAttribute("type");if(null!==t)switch(t){case"file":for(var h=0;h<r.files.length;h++)this.xhr_form_data.append("file[]",r.files[h]);this.xhr_send_file=!0;break;case"text":case"password":case"hidden":this.xhr_form_data.append(s,r.value),this.xhr_raw_data.push(s+"="+r.value);break;case"radio":case"checkbox":r.checked&&(this.xhr_form_data.append(s,r.value),this.xhr_raw_data.push(s+"="+r.value));break;default:this.xhr_errors.push({error_level:2,error_message:"xhrQuery::inputs() :: The input number "+e+" with type = "+t+" not managed with xhrQuery() -> input ignored."})}else this.xhr_errors.push({error_level:2,error_message:"xhrQuery::inputs() :: The input number "+e+" has no attribut type -> input ignored"});break;case"SELECT":r.options.length>0?(this.xhr_form_data.append(s,r.value),this.xhr_raw_data.push(s+"="+r.value)):this.xhr_errors.push({error_level:2,error_message:"xhrQuery::inputs() :: The select input "+r+" has no options -> input ignored"});break;case"TEXTAREA":this.xhr_form_data.append(s,r.value),this.xhr_warn_textarea=!0}else this.xhr_errors.push({error_level:2,error_message:"xhrQuery::inputs() :: The input number "+e+" don't have attribut name -> input ignored"})}}return this},this.headers=function(e,r){if("string"==typeof e)null===r&&this.xhr_errors.push({error_level:2,error_message:"xhrQuery::headers() :: argument 'sValue' should not be null."}),this.xhr_headers[e]=r;else if("object"==typeof e)for(var s in e)null===e[s]&&this.xhr_errors.push({error_level:2,error_message:`xhrQuery::headers() :: provided header '${s}' shoud not be null`}),this.xhr_headers[s]=e[s];else console.error("xhrQuery::headers() :: Can not determine type of provided argument 'mHeader'")},this.CORSUseCredentials=function(e=!0){return this.xhr_with_cred=e,this},this.method=function(e){return e=e.toLowerCase(),["get","post"].lastIndexOf(e)>-1?this.xhr_method=e:this.xhr_errors.push({error_level:2,error_message:"xhrQuery::methode() :: The method '"+e+"' is not allowed : use 'get' or 'post'"}),this},this.progress=function(e){return"function"==typeof e?this.xhr_progress=e:this.xhr_errors.push({error_level:2,error_message:"xhrQuery::progress() :: The input progress '"+e+"' is not a function."}),this},this.send=function(){if(null!==this.xhr_target){if(this.xhr_engine=new this.xhr,(this.xhr_username||this.xhr_password)&&!this.xhr_headers.Authorization){var e=`${this.xhr_username}:${this.xhr_password}`;this.xhr_headers.Authorization=`Basic ${btoa(e)}`}switch(null!==this.xhr_callback?this.xhr_engine.onreadystatechange=function(){if(4===this.xhr_engine.readyState&&(200===this.xhr_engine.status||0===this.xhr_engine.status))for(var e=0;e<this.xhr_callbacks.length;e++)this.xhr_callbacks[e](this.xhr_engine.responseText)}.bind(this):this.xhr_errors.push({error_level:0,error_message:"xhrQuery() running without callback function."}),null!==this.xhr_progress&&(this.xhr_engine.upload.onprogress=function(e){var r=e.loaded,s=e.total;this.xhr_progress(r,s)}.bind(this)),this.xhr_method){case"get":for(var r=null,s=this.xhr_target,t=0;t<this.xhr_raw_data.length;t++)r=null!==r?r+"&"+this.xhr_raw_data[t]:this.xhr_raw_data[t];for(var h in r&&(s=this.xhr_target+"?"+r),this.xhr_send_file&&this.xhr_errors.push({error_level:2,error_message:"xhrQuery::send() :: Datas sent with 'GET' method. The files datas has not been sent."}),this.xhr_warn_textarea&&this.xhr_errors.push({error_level:2,error_message:"xhrQuery::send() :: Datas sent with 'GET' method. The textarea inputs has not been sent."}),this.xhr_executed++,this.xhr_engine.open("GET",s,!0),this.xhr_headers)this.xhr_headers.hasOwnProperty(h)&&this.xhr_engine.setRequestHeader(h,this.xhr_headers[h]);this.xhr_engine.withCredentials=this.xhr_with_cred,this.xhr_engine.send(null);break;case"post":for(var h in this.xhr_executed++,this.xhr_engine.open("POST",this.xhr_target,!0),this.xhr_headers)this.xhr_headers.hasOwnProperty(h)&&this.xhr_engine.setRequestHeader(h,this.xhr_headers[h]);this.xhr_engine.withCredentials=this.xhr_with_cred,this.xhr_engine.send(this.xhr_form_data)}}else this.xhr_errors.push({error_level:1,error_message:"send() :: The server script target is not defined. You must use .target($target)"});if(this.xhr_errors.length>0){console.log("xhrQuery() :: Below, the list of all encountered errors :");for(t=0;t<this.xhr_errors.length;t++){switch(this.xhr_errors[t].error_level){case 0:console.log("\t"+this.xhr_errors[t].error_message);break;case 1:console.error("\t"+this.xhr_errors[t].error_message),!1;break;case 2:console.warn("\t"+this.xhr_errors[t].error_message)}}}return this},this.target=function(e){return this.xhr_target=e,this},this.values=function(){for(var e=0;e<arguments.length;e++){var r=arguments[e].split("="),s=r[0],t=r[1];this.xhr_form_data.append(s,t),this.xhr_raw_data.push(arguments[e])}return this},this.xhr=function(){var e=null;if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(r){e=new ActiveXObject("Microsoft.XMLHTTP")}else e=new XMLHttpRequest;return e},this.callbacks(function(e){this.xhr_response.push(e)}.bind(this)),this}