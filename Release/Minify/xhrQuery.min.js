function xhrQuery(){this.xhr_engine=null;this.xhr_errors=[];this.xhr_callbacks=[];this.xhr_form_data=new FormData();this.xhr_method="post";this.xhr_progress=null;this.xhr_raw_data=[];this.xhr_target=null;this.xhr_send_file=false;this.callbacks=function(){for(var a=0;a<arguments.length;a++){if(typeof(arguments[a])==="function"){this.xhr_callbacks.push(arguments[a])}else{this.xhr_errors.push({error_level:2,error_message:"xhrQuery::callback() :: The input callback '"+arguments[a]+"' is not a function."})}}return this};this.forms=function(d){if(d===undefined){this.xhr_errors.push({error_level:2,error_message:"xhrQuery::forms() :: At least one HTMLFormElement is required."})}for(var a in arguments){if(arguments[a] instanceof HTMLFormElement){for(var b=0;b<arguments[a].elements.length;b++){var c=arguments[a].elements[b];this.inputs(c)}}else{this.xhr_errors.push({error_level:2,error_message:"xhrQuery::forms() :: Argument nÂ°"+a+" supplied is invalid : ["+typeof(arguments[a])+"] "+arguments[a]+"."})}}return this};this.inputs=function(){for(var b=0;b<arguments.length;b++){var c=null;if(typeof(arguments[b])==="string"){c=document.getElementById(arguments[b])}else{c=arguments[b]}if(c===null){this.xhr_errors.push({error_level:2,error_message:"xhrQuery::inputs() :: The input number "+b+" doesn't not exist -> input ignored."})}else{var d=c.getAttribute("name");if(d!==null){switch(c.tagName.toUpperCase()){case"INPUT":var e=c.getAttribute("type");if(e!==null){switch(e){case"file":for(var a=0;a<c.files.length;a++){this.xhr_form_data.append("file[]",c.files[a])}this.xhr_send_file=true;break;case"text":case"password":case"hidden":this.xhr_form_data.append(d,c.value);this.xhr_raw_data.push(d+"="+c.value);break;case"radio":if(c.checked){this.xhr_form_data.append(d,c.value);this.xhr_raw_data.push(d+"="+c.value)}break;case"checkbox":if(c.checked){this.xhr_form_data.append(d,c.value);this.xhr_raw_data.push(d+"="+c.value)}break;default:this.xhr_errors.push({error_level:2,error_message:"xhrQuery::inputs() :: The input number "+b+" with type = "+e+" not managed with xhrQuery() -> input ignored."});break}}else{this.xhr_errors.push({error_level:2,error_message:"xhrQuery::inputs() :: The input number "+b+" has no attribut type -> input ignored"})}break;case"SELECT":if(c.options.length>0){this.xhr_form_data.append(d,c.value);this.xhr_raw_data.push(d+"="+c.value)}else{this.xhr_errors.push({error_level:2,error_message:"xhrQuery::inputs() :: The select input "+c+" has no options -> input ignored"})}break;default:break}}else{this.xhr_errors.push({error_level:2,error_message:"xhrQuery::inputs() :: The input number "+b+" don't have attribut name -> input ignored"})}}}return this};this.method=function(a){var b=["get","post"];a=a.toLowerCase();if(b.lastIndexOf(a)>-1){this.xhr_method=a}else{this.xhr_errors.push({error_level:2,error_message:"xhrQuery::methode() :: The method '"+a+"' is not allowed : use 'get' or 'post'"})}return this};this.progress=function(a){if(typeof(a)==="function"){this.xhr_progress=a}else{this.xhr_errors.push({error_level:2,error_message:"xhrQuery::progress() :: The input progress '"+a+"' is not a function."})}return this};this.send=function(){var c=true;if(this.xhr_target!==null){this.xhr_engine=new this.xhr();if(this.xhr_callback!==null){this.xhr_engine.onreadystatechange=function(){if(this.xhr_engine.readyState===4&&(this.xhr_engine.status===200||this.xhr_engine.status===0)){for(var e=0;e<this.xhr_callbacks.length;e++){this.xhr_callbacks[e](this.xhr_engine.responseText)}}}.bind(this)}else{this.xhr_errors.push({error_level:0,error_message:"xhrQuery() running without callback function."})}if(this.xhr_progress!==null){this.xhr_engine.upload.onprogress=function(f){var h=f.loaded;var g=f.total;this.xhr_progress(h,g)}.bind(this)}switch(this.xhr_method){case"get":var d=null;for(var b=0;b<this.xhr_raw_data.length;b++){d=(d!==null)?d+"&"+this.xhr_raw_data[b]:this.xhr_raw_data[b]}if(this.xhr_send_file){this.xhr_errors.push({error_level:2,error_message:"xhrQuery::send() :: Datas sent with 'GET' method. The files datas has not been sent."})}this.xhr_engine.open("GET",this.xhr_target+"?"+d,true);this.xhr_engine.send(null);break;case"post":this.xhr_engine.open("POST",this.xhr_target,true);this.xhr_engine.send(this.xhr_form_data);break}}else{this.xhr_errors.push({error_level:1,error_message:"send() :: The server script target is not defined. You must use .target($target)"})}if(this.xhr_errors.length>0){console.log("xhrQuery() :: Below, the list of all encountered errors :");for(var b=0;b<this.xhr_errors.length;b++){var a=b+1;switch(this.xhr_errors[b].error_level){case 0:console.log("\t"+this.xhr_errors[b].error_message);break;case 1:console.error("\t"+this.xhr_errors[b].error_message);c=false;break;case 2:console.warn("\t"+this.xhr_errors[b].error_message);break}}}return c};this.target=function(a){this.xhr_target=a;return this};this.values=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a].split("=");var c=b[0];var d=b[1];this.xhr_form_data.append(c,d);this.xhr_raw_data.push(arguments[a])}return this};this.xhr=function(){var b=null;if(window.ActiveXObject){try{b=new ActiveXObject("Msxml2.XMLHTTP")}catch(a){b=new ActiveXObject("Microsoft.XMLHTTP")}}else{b=new XMLHttpRequest()}return b};return this};