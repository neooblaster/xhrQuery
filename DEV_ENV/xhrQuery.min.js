function xhrQuery(){this.xhr_engine=null;this.xhr_errors=[];this.xhr_callbacks=[];this.xhr_form_data=new FormData();this.xhr_method="post";this.xhr_progress=null;this.xhr_raw_data=[];this.xhr_target=null;this.xhr_send_file=false;this.callbacks=function(){for(var a=0;a<arguments.length;a++){if(typeof(arguments[a])==="function"){this.xhr_callbacks.push(arguments[a])}else{this.xhr_errors.push({error_level:2,error_message:"callback() :: The input callback '"+arguments[a]+"' is not a function."})}}return this};this.inputs=function(){for(var b=0;b<arguments.length;b++){var c=null;if(typeof(arguments[b])==="string"){c=document.getElementById(arguments[b])}else{c=arguments}if(c===null){this.xhr_errors.push({error_level:2,error_message:"inputs() :: The input number "+b+" doesn't not exist -> input ignored."})}else{var e=c.getAttribute("type");if(e!==null){switch(e){case"file":for(var a=0;a<c.files.length;a++){this.xhr_form_data.append("file[]",c.files[a])}this.xhr_send_file=true;break;case"text":case"password":case"hidden":var d=c.getAttribute("name");var g=c.value;if(d!==null){this.xhr_form_data.append(d,g);this.xhr_raw_data.push(d+"="+g)}else{this.xhr_errors.push({error_level:2,error_message:"inputs() :: The input number "+b+" don't have attribut name -> input ignored."})}break;default:this.xhr_errors.push({error_level:2,error_message:"inputs() :: The input number "+b+" with type = "+e+" not managed with xhrQuery() -> input ignored."});break}}else{this.xhr_errors.push({error_level:2,error_message:"inputs() :: The input number "+b+" don't have attribut type -> input ignored"})}}}return this};this.method=function(a){var b=["get","post"];a=a.toLowerCase();if(b.lastIndexOf(a)>-1){this.xhr_method=a}else{this.xhr_errors.push({error_level:2,error_message:"methode() :: The method '"+a+"' is not allowed : use 'get' or 'post'"})}return this};this.progress=function(a){if(typeof(a)==="function"){this.xhr_progress=a}else{this.xhr_errors.push({error_level:2,error_message:"progress() :: The input progress '"+a+"' is not a function."})}return this};this.send=function(){var c=true;if(this.xhr_target!==null){this.xhr_engine=new this.xhr();if(this.xhr_callback!==null){this.xhr_engine.onreadystatechange=function(){if(this.xhr_engine.readyState===4&&(this.xhr_engine.status===200||this.xhr_engine.status===0)){for(var e=0;e<this.xhr_callbacks.length;e++){this.xhr_callbacks[e](this.xhr_engine.responseText)}}}.bind(this)}else{this.xhr_errors.push({error_level:0,error_message:"xhrQuery() running without callback function."})}if(this.xhr_progress!==null){this.xhr_engine.upload.onprogress=function(f){var h=f.loaded;var g=f.total;this.xhr_progress(h,g)}.bind(this)}switch(this.xhr_method){case"get":var d=null;for(var b=0;b<this.xhr_raw_data.length;b++){d=(d!==null)?d+"&"+this.xhr_raw_data[b]:this.xhr_raw_data[b]}if(this.xhr_send_file){this.xhr_errors.push({error_level:2,error_message:"send() :: Datas sent with 'GET' method. The files datas has not been sent."})}this.xhr_engine.open("GET",this.xhr_target+"?"+d,true);this.xhr_engine.send(null);break;case"post":this.xhr_engine.open("POST",this.xhr_target,true);this.xhr_engine.send(this.xhr_form_data);break}}else{this.xhr_errors.push({error_level:1,error_message:"send() :: The server script target is not defined. You must use .target($target)"})}if(this.xhr_errors.length>0){console.log("xhrQuery() :: Below, the list of all encountered errors :");for(var b=0;b<this.xhr_errors.length;b++){var a=b+1;switch(this.xhr_errors[b].error_level){case 0:console.log("\t"+this.xhr_errors[b].error_message);break;case 1:console.error("\t"+this.xhr_errors[b].error_message);c=false;break;case 2:console.warn("\t"+this.xhr_errors[b].error_message);break}}}return c};this.target=function(a){this.xhr_target=a;return this};this.values=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a].split("=");var c=b[0];var d=b[1];this.xhr_form_data.append(c,d);this.xhr_raw_data.push(arguments[a])}return this};this.xhr=function(){var b=null;if(window.ActiveXObject){try{b=new ActiveXObject("Msxml2.XMLHTTP")}catch(a){b=new ActiveXObject("Microsoft.XMLHTTP")}}else{b=new XMLHttpRequest()}return b};return this};